# Data Model

MKE.dev uses 9 core entities to represent Milwaukee's development information ecosystem.

## Entities Overview

### Parcel
A specific piece of property identified by a tax key, with an address, ownership information, lot size, and physical characteristics. This is the fundamental unit users query about when asking "What can I build at this address?"

### ZoningDistrict
A classification that defines permitted uses, dimensional standards (height, setbacks, FAR), and design requirements for properties within its boundaries. Examples include RS6 (Single-Family Residential), LB2 (Local Business), and RM4 (Multi-Family Residential).

### IncentiveZone
A geographic area offering financial incentives for development. Includes TIF districts, Opportunity Zones, Business Improvement Districts (BIDs), and Neighborhood Improvement Districts (NIDs). Multiple incentive zones can overlap on a single parcel.

### AreaPlan
A neighborhood-specific planning document adopted by the city that establishes future land use designations, community goals, and design recommendations. Examples include the Near West Side Plan and Bronzeville Cultural and Entertainment District Plan.

### Conversation
A chat session between a user and the platform, containing a sequence of queries and responses. Supports both voice and text interactions.

### Query
A single question or request from a user within a conversation. Can be asked via voice or text, and may reference a specific parcel or general topic.

### FeasibilityReport
A generated analysis that synthesizes zoning compliance, available incentives, area plan alignment, and permit requirements for a proposed project on a specific parcel.

### ArchitecturalPreview
A photorealistic visualization generated by Nano Banana showing what a proposed building could look like on a specific site, incorporating style guidelines and zoning constraints.

### Document
A source file in the knowledge base — either a PDF (zoning code, area plan) or crawled web content — that provides authoritative information for RAG-powered responses.

## Relationships

```
┌─────────────────┐
│  ZoningDistrict │
└────────┬────────┘
         │ 1:N
         ▼
┌─────────────────┐      N:N      ┌─────────────────┐
│     Parcel      │◄─────────────►│  IncentiveZone  │
└────────┬────────┘               └─────────────────┘
         │
         │ 1:N (optional)
         ▼
┌─────────────────┐
│    AreaPlan     │
└─────────────────┘

┌─────────────────┐
│  Conversation   │
└────────┬────────┘
         │ 1:N
         ▼
┌─────────────────┐      N:1      ┌─────────────────┐
│     Query       │──────────────►│     Parcel      │
└─────────────────┘               └─────────────────┘

┌─────────────────┐
│FeasibilityReport│──────────────► Parcel, ZoningDistrict, IncentiveZones, AreaPlan
└─────────────────┘

┌─────────────────┐
│ArchitecturalPrev│──────────────► Parcel, Conversation
└─────────────────┘

┌─────────────────┐
│    Document     │──────────────► Source content for Queries
└─────────────────┘
```

## Key Relationships

- **Parcel → ZoningDistrict**: Each parcel belongs to exactly one zoning district
- **Parcel → IncentiveZone**: A parcel can be within multiple incentive zones (TIF + OZ, etc.)
- **Parcel → AreaPlan**: A parcel may be covered by one area plan (or none)
- **Conversation → Query**: Each conversation contains many queries
- **Query → Parcel**: A query may reference a specific parcel
- **FeasibilityReport → Parcel**: Generated for a specific parcel, references zoning/incentives/area plan
- **ArchitecturalPreview → Parcel**: Generated for a specific parcel
- **Document → Query**: Documents provide source content cited in responses

## Implementation Notes

- Use the TypeScript interfaces in `types.ts` for type safety
- Sample data in `sample-data.json` can seed development databases
- The data model is intentionally minimal — extend as needed for your backend
